<script src="/assets/auth.js"></script>
<script>
  const form = document.querySelector("form"); // or your signup form selector
  const err = document.querySelector("#errorText"); // make a <div id="errorText"></div> somewhere

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const username = document.querySelector("#username").value;
    const password = document.querySelector("#password").value;

    const res = await NRAuth.signupUser(username, password);
    if (!res.ok) {
      if (err) err.textContent = res.error;
      return;
    }
    window.location.href = "/dashboard/";
  });
</script>
